#version 150

in vec2 textureCoords;

out vec4 out_Colour;

uniform sampler2D colourTexture;
uniform sampler2D godRay;
uniform sampler2D scatteringTexture;

uniform float contrast;
uniform float exposure;
uniform vec2 move;
const float gamma = 0.7;
void main(void){
	vec4 sceneColour=texture(colourTexture,textureCoords);
	vec4 scattering=texture(scatteringTexture,textureCoords);
	vec4 gr=texture(godRay,textureCoords);

	out_Colour.xyz=sceneColour.xyz*(1-scattering.a)+gr.xyz+scattering.xyz*(scattering.a);
	//out_Colour.xyz=scattering.xyz;
out_Colour.a=1;
	//out_Colour.rgb=(out_Colour.rgb-0.5)*(1.0+contrast)+0.5;



	// out_Colour.rgb = vec3(1.0) - exp(-out_Colour.rgb * exposure);
	//  vec3 mapped = pow(out_Colour.rgb, vec3(1.0 / gamma));
	  
	 // out_Colour=vec4(mapped,1);

}